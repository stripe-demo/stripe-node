/**
 * This file was auto-generated by Fern from our API Definition.
 */

/**
 * @example
 *     {
 *         mode: "full",
 *         original_transaction: "original_transaction",
 *         reference: "reference"
 *     }
 */
export interface TransactionCreateReversalRequest {
    /** Specifies which fields in the response should be expanded. */
    expand?: string[];
    /** A flat amount to reverse across the entire transaction, in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal) in negative. This value represents the total amount to refund from the transaction, including taxes. */
    flat_amount?: number;
    /** The line item amounts to reverse. */
    line_items?: TransactionCreateReversalRequest.LineItems.Item[];
    /** Set of [key-value pairs](https://stripe.com/docs/api/metadata) that you can attach to an object. This can be useful for storing additional information about the object in a structured format. Individual keys can be unset by posting an empty value to them. All keys can be unset by posting an empty value to `metadata`. */
    metadata?: Record<string, string>;
    /** If `partial`, the provided line item or shipping cost amounts are reversed. If `full`, the original transaction is fully reversed. */
    mode: TransactionCreateReversalRequest.Mode;
    /** The ID of the Transaction to partially or fully reverse. */
    original_transaction: string;
    /** A custom identifier for this reversal, such as `myOrder_123-refund_1`, which must be unique across all transactions. The reference helps identify this reversal transaction in exported [tax reports](https://stripe.com/docs/tax/reports). */
    reference: string;
    /** The shipping cost to reverse. */
    shipping_cost?: TransactionCreateReversalRequest.ShippingCost;
}

export namespace TransactionCreateReversalRequest {
    export type LineItems = LineItems.Item[];

    export namespace LineItems {
        export interface Item {
            /** The amount to reverse, in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal) in negative. */
            amount: number;
            /** The amount of tax to reverse, in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal) in negative. */
            amount_tax: number;
            /** Set of [key-value pairs](https://stripe.com/docs/api/metadata) that you can attach to an object. This can be useful for storing additional information about the object in a structured format. */
            metadata?: Record<string, string>;
            /** The `id` of the line item to reverse in the original transaction. */
            original_line_item: string;
            /** The quantity reversed. Appears in [tax exports](https://stripe.com/docs/tax/reports), but does not affect the amount of tax reversed. */
            quantity?: number;
            /** A custom identifier for this line item in the reversal transaction, such as 'L1-refund'. */
            reference: string;
        }
    }

    /**
     * If `partial`, the provided line item or shipping cost amounts are reversed. If `full`, the original transaction is fully reversed.
     */
    export type Mode = "full" | "partial";
    export const Mode = {
        Full: "full",
        Partial: "partial",
    } as const;

    /**
     * The shipping cost to reverse.
     */
    export interface ShippingCost {
        /** The amount to reverse, in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal) in negative. */
        amount: number;
        /** The amount of tax to reverse, in the [smallest currency unit](https://stripe.com/docs/currencies#zero-decimal) in negative. */
        amount_tax: number;
    }
}
